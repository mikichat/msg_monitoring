# msg_monitoring

🎯 주요 기능
1. 서버 프로세스 상세 모니터링
    * 가동 시간, 메모리 사용량, CPU 사용률, 스레드 수 실시간 추이 분석
    * 서버 재시작 감지 및 자동 알림
2. 소켓 연결 상태 모니터링 (ss -s 기반)
    * 총 소켓, TCP/UDP 소켓 수 현황 파악
    * ESTABLISHED, LISTEN, TIME_WAIT, CLOSE_WAIT 등 소켓 상태별 상세 분류
3. 메신저 서버 전용 로그 분석
    * 사용자 연결/해제, 메시지 전송 상태 모니터링
    * 방 생성/삭제, 인증 실패, 시스템 경고 및 오류 로그 추적

✨ 디자인 및 시각화
*   **현대적이고 직관적인 UI:** 다채로운 그라데이션과 부드러운 애니메이션 효과를 적용하여 사용자 친화적인 인터페이스 제공
*   **시각적 데이터 표현:** 카드, 비교 테이블, 타임라인 등 다양한 요소를 활용하여 복잡한 데이터를 한눈에 파악하기 쉽게 시각화
*   **반응형 웹 디자인:** 모바일 및 태블릿 환경에서도 최적화된 사용자 경험 제공

🔧 실제 구현 예시
실제 Java 메신저 서버와 연동하려면:
1. 프로세스 모니터링 스크립트
```bash
#!/bin/bash
# 이 스크립트는 Java 메신저 서버의 실시간 성능 지표를 모니터링하고 로그 파일에 기록합니다.
# 10초마다 다음 정보를 수집합니다:
# - JVM PID 확인
# - 힙 메모리 사용량 (jstat -gc 기반)
# - 현재 스레드 수
# - TCP 연결 상태 요약 (ss -s 기반)
# - ESTABLISHED, CLOSE-WAIT, TIME-WAIT 상태의 IP별 연결 개수
# 로그 파일: /root/tmp/java_monitor.log

# 실행 방법:
# sudo chmod +x java_monitor.sh
# sudo ./java_monitor.sh &
```
2. 소켓 모니터링 (ss -s 명령어)
bashss -s | grep -E "(ESTAB|LISTEN|TIME-WAIT|CLOSE-WAIT)"
3. Java 서버 로그 설정

💻 개발 스택
Node.js
Express
WebSocket

## 로그 샘플

```
=== 2025-07-10 11:30:48 ===
JVM PID: 61418
Heap Usage:
262144.0 262144.0 497.8   0.0   1572864.0 1008311.1 4194304.0   57565.1   262144.0 26482.8    300    2.450   0      0.000    2.450
Thread Count: 293
Network Status:
TCP:   4463 (estab 4375, closed 39, orphaned 3, timewait 25)
TCP	  4424      4421      3        
Connection State Summary:
109.2.1.88:1521 2
127.0.0.1:22035 6
127.0.0.1:1521 26
109.2.1.105:6930 3
109.2.1.105:6931 2
109.2.1.105:6933 2
---
=== 2025-07-10 11:30:58 ===
JVM PID: 61418
Heap Usage:
262144.0 262144.0  0.0   417.6  1572864.0 153413.4 4194304.0   57567.6   262144.0 26482.8    301    2.458   0      0.000    2.458
Thread Count: 293
Network Status:
TCP:   4424 (estab 4335, closed 38, orphaned 5, timewait 24)
TCP	  4386      4383      3        
Connection State Summary:
109.2.1.88:1521 2
127.0.0.1:22035 6
127.0.0.1:1521 26
109.2.1.105:6930 3
109.2.1.105:6931 2
109.2.1.105:6933 2
```
